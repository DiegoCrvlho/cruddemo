<div>
  <h1>Bulk Deletion of employees</h1>

  <% if @employees.present? %>
    <%= form_with(url: bulk_delete_bulkdeleteemployee_index_path, method: :delete, data: {controller: "selectallcheckbox"}) do |f| %>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>
            <%= check_box_tag "select all", nil, false, id: "select-all",
            data: {"selectallcheckbox-target": "chkheader", 
            action: "change->selectallcheckbox#toggleCheckboxes"}%>
          </th>
          <th>ID</th>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Phone</th>
          <th>Email</th>
          <th>Department</th>
          <th>Country</th>
        </tr>
      </thead>
      <tbody>
        <% @employees.each do |employee| %>
          <tr>
            <td>
                <%= check_box_tag "employee_ids[]", employee.id, false,
                data: {"selectallcheckbox-target": "chkbox", employeeId: employee.id}
                %>
            </td>
            <td><%= employee.id %></td>
            <td><%= employee.firstname %></td>
            <td><%= employee.lastname %></td>
            <td><%= employee.phone %></td>
            <td><%= employee.email %></td>
            <td><%= employee.department.name %></td>
            <td><%= employee.country.name %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
    <%= f.submit "Delete using checkbox", class: "btn btn-danger" %>
    <% end %>
  <% end %>
</div>